# Percona Backup for MongoDB 1.7.0 (2022-04-18)

| 发布日期 | 2022 年 4 月 18 日  |
|------------- | ---------------|
| 安装 | [安装 Percona Backup for MongoDB](../installation.md) |


Percona Backup for MongoDB 是一个分布式、低影响的解决方案，用于创建 MongoDB 分片集群和副本集的一致备份。这是一个用于在 MongoDB 分片集群（或单个副本集）中创建一致备份并将这些备份恢复到特定时间点的工具。

## 发布亮点

* 支持从版本 4.2.15-16 和 4.4.6-8 及更高版本开始的 Percona Server for MongoDB 中的物理备份。物理备份大大加快了大型数据库（数 TB）的备份和恢复性能。这是技术预览功能。

* 从任意开始时间重放 Oplog。这降低了从物理或存储级备份恢复数据库时的恢复点目标 (RPO)。

* 能够为时间点恢复块配置压缩方法和级别，以及为备份配置压缩级别。

* 能够配置 S3 多部分上传块的数量，以符合各种 S3 兼容存储提供商的要求。

* 能够配置上传重试次数。这有助于在不稳定的网络连接情况下上传数据。

## 新功能

* [PBM-734](https://jira.percona.com/browse/PBM-734)：添加配置选项以设置 S3 请求的调试日志级别

* [PBM-805](https://jira.percona.com/browse/PBM-805)：实现物理备份以提高大型数据库的性能

* [PBM-742](https://jira.percona.com/browse/PBM-742)：添加从任意开始时间重放 oplog 的能力。这降低了从物理备份恢复数据库时的恢复点目标 (RPO)。

## 改进

* [PBM-680](https://jira.percona.com/browse/PBM-680)：跳过对象存储的 TLS 验证。这对于具有自签名证书的私有对象存储很有用。

* [PBM-770](https://jira.percona.com/browse/PBM-770)：支持时间点恢复块的可配置压缩方法/级别（感谢 Damiano Albani 报告此问题并为其做出贡献）

* [PBM-764](https://jira.percona.com/browse/PBM-764)：支持 Zstandard 压缩格式（感谢 Damiano Albani 报告此问题并为其做出贡献）

* [PBM-750](https://jira.percona.com/browse/PBM-750)：使 S3 上传部分的最大数量可配置（感谢 Damiano Albani 报告此问题并为其做出贡献）

* [PBM-777](https://jira.percona.com/browse/PBM-777)：扩展/修复配置 API 以支持时间点恢复块的压缩方法（感谢 Damiano Albani 报告并为此问题做出贡献）

* [PBM-756](https://jira.percona.com/browse/PBM-756)：添加配置 S3 请求的日志级别以调试对象存储问题的能力（感谢 Damiano Albani 报告此问题并为其做出贡献）

* [PBM-577](https://jira.percona.com/browse/PBM-577)：现在可以为各种 S3 层级选择 S3 存储类以进行精细控制（感谢 Damiano Albani 的贡献）

## 已修复的错误

* [PBM-721](https://jira.percona.com/browse/PBM-721)：修复了由于不稳定的网络连接导致备份上传到 S3 存储失败的错误。Percona Backup for MongoDB 现在可以配置为使用灵活的超时重试上传。

* [PBM-773](https://jira.percona.com/browse/PBM-773)：检查所有参与分片上的分布式事务，以避免恢复时提交时间戳不一致
